<!DOCTYPE html>
<html>
<head>
  <title>RB09 - ESPOCIA PORTFOLIO (website dumps)</title>
  <link rel="stylesheet" href="./index.css">
</head>

<body>

    <h1>Guess My Word</h1>
    <p id="wordDisplay" class="game"></p>
    <input type="text" id="guessInput" class="game" maxlength="1">
    <button onclick="makeGuess()" class="game">Guess</button>
    <p id="message" class="game"></p>
    <p id="counter" class="game"></p>
    <button onclick="restart()" class="game">Try Again</button>
    <marquee id="congrats" class="game" scrollamount="60"></marquee>
    
    <script>
      let words = ["miraculousmateo", "mutteringmateo", "memorablemateo", "magnificentmateo", "melancholicmateo", "mathematicalmateo", "meaningfulmateo", "measurementmateo"];
      let word = words[Math.floor(Math.random() * words.length)];
      let secretWord = [];
      let guessedWord = [];
      let guesses = [];
      let number = 5;
      let congrats = "";
      document.getElementById("counter").textContent = "You have " + number + " guesses left.";
      for (let i = 0; i < word.length; i++) {
        secretWord.push(word[i]);
        guessedWord.push("_");
      }
    
      document.getElementById("wordDisplay").textContent = guessedWord.join(" ");
      
      function haveSameElements(arr1, arr2) {
        return arr1.every((element, index) => element === arr2[index]);
      }
    
      function makeGuess() {
        let guess = document.getElementById("guessInput").value.toLowerCase();
        

        if (!(guesses.includes(guess)) && number != 0) {
            guesses.push(guess);
            let correct = false;
        
            for (let i = 0; i < secretWord.length; i++) {
                if (secretWord[i] == guess) {
                    guessedWord[i] = guess;
                    correct = true;
                }
            }

            if (!correct) {
                number--;
            }

        if (haveSameElements(secretWord, guessedWord)) {
            congrats = "YIPPEEEEEEE YOU GUESSED THE WORD!!!!!!";
        }
        
            document.getElementById("wordDisplay").textContent = guessedWord.join(" ");
            document.getElementById("counter").textContent = "You have " + number + " guesses left.";
            document.getElementById("message").textContent = correct ? "✅ Correct!" : "❌ Try again.";
            document.getElementById("guessInput").value = "";
            document.getElementById("congrats").textContent = congrats;
        }
        
        
      }

      function restart() {
        if (haveSameElements(secretWord, guessedWord) || number <= 0) {
            word = words[Math.floor(Math.random() * words.length)];
            secretWord = [];
            guessedWord = [];
            guesses = [];
            number = 5;
            congrats = "";
            document.getElementById("counter").textContent = "You have " + number + " guesses left.";
            for (let i = 0; i < word.length; i++) {
              secretWord.push(word[i]);
              guessedWord.push("_");
            }

            document.getElementById("wordDisplay").textContent = guessedWord.join(" ");
            document.getElementById("counter").textContent = "You have " + number + " guesses left.";
            document.getElementById("message").textContent = "";
            document.getElementById("guessInput").value = "";
            document.getElementById("congrats").textContent = congrats;
        }
        
      }
    </script>

</body>
</html>
